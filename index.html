<!DOCTYPE html>
<html lang="en">
<head>
    <title>Minor Factions</title>
</head>
<body>
    <h1>Minor factions Milty draft tool</h1>
    <h4>click "generate" to get slices string and add them in miltydraft advanced settings</h4>
    <form>
        <label>how many factions</label><input type="number" value="9" id="factions"><br>
        <label>how many slices</label><input type="number" value="7" id="slices"><br>
        <!-- <label>Minimum Optimal Influence</label><input type="number" value="4"><br>
        <label>Minimum Optimal Resources</label><input type="number" value="2.5"><br>
        <label>Minimum Optimal Total</label><input type="number" value="9"><br>
        <label>Maximum Optimal Total</label><input type="number" value="13"> <br> -->
        <input type="button" value="generate" id = "generate">
    </form>
    <script>
        function shuffle(array) {
            array.sort(() => Math.random() - 0.5);
            return array;
        }
        let blue  = shuffle([19, 20, 21, 22, 23,
         24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36,
          37, 38, 59, 60, 61, 62, 63, 64, 65, 69, 70, 71, 72, 73, 74, 75, 76]);
        let red = shuffle([39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 67, 68, 77, 78, 79, 80]);
        let hs = shuffle([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14,
         15, 16, 17, 52, 53, 54, 55, 56, 57, 58, 0]);
        let factions = ["Keleres", "Sol", "Mentak", "Yin", "Muaat",
    "Arborec","L1Z1X", "Winnu", "Nekro", "Naalu", "Letnev", "Saar", "Jol Nar",
     "Sardakk", "Xxcha", "Yssaril", "Hacan","Creuss", 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,0,
    "Mahact", "Nomad", "Cabal", "Ul", "Emperyan", "NRA", "Argent"];
        let slicesinput = document.getElementById("slices");
        let factionsinput = document.getElementById("factions");
        let generate = document.getElementById("generate");
        generate.addEventListener("click", ()=>{
            let s = parseInt(slicesinput.value);
            let f = parseInt(factionsinput.value);
            let b = (s<10) && (s+f<25);
            if (b){
                document.write("<h1>Factions</h1>");
                keler = 0;
                for(let i = 0; i < f; ++i){
                     document.write(factions[hs[i]]+"<br>");
                }
                document.write("<h1>Slices</h1>");
                for(let i = 0; i < s;++i){
                    if (hs[f+i]==0) keler=1;
                    //document.write(shuffle([blue[2*i], blue[2*i+1], red[2*i], red[2*i+1]]).unshift(hs[f+i+keler])+"<br>");
                    slice = shuffle([blue[2*i],blue[2*i+1],red[2*i],red[2*i+1]]);
                    slice.unshift(hs[f+i+keler]);
                    slice[0]+=slice[3];
                    slice[3] = slice[0]-slice[3];
                    slice[0]-=slice[3];
                    document.write(slice+"<br>");
                }
                document.write("<br><h3>reload page to regenerate</h3>");
            }else{
                document.write("<h1>Are you dolboyeb? it is impossible to generate</h1>");
            }
        })
    </script>
</body>
</html>
